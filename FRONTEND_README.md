# 前端基础框架说明

## 概述

本项目采用传统的服务端渲染架构，结合现代前端技术栈，为股票交易记录系统提供响应式的用户界面。

## 技术栈

### 核心技术
- **HTML5/CSS3/JavaScript ES6+** - 基础Web技术
- **Bootstrap 5.3.0** - 响应式UI框架
- **Chart.js 4.3.0** - 数据可视化图表库
- **Axios 1.4.0** - HTTP客户端库
- **Flask Jinja2** - 服务端模板引擎

### 开发工具
- **ESLint** - JavaScript代码检查
- **Prettier** - 代码格式化
- **Package.json** - 依赖管理

## 项目结构

```
├── static/                 # 静态资源目录
│   ├── css/               # 样式文件
│   │   ├── main.css       # 主样式文件
│   │   └── components.css # 组件样式
│   └── js/                # JavaScript文件
│       ├── config.js      # 前端配置
│       ├── utils.js       # 工具函数库
│       ├── api.js         # API客户端封装
│       ├── main.js        # 主应用逻辑
│       └── dashboard.js   # 仪表板页面逻辑
├── templates/             # 模板文件
│   ├── base.html         # 基础模板
│   ├── dashboard.html    # 仪表板页面
│   ├── trading_records.html # 交易记录页面
│   ├── review.html       # 复盘分析页面
│   ├── stock_pool.html   # 股票池页面
│   ├── sector_analysis.html # 板块分析页面
│   ├── cases.html        # 案例管理页面
│   ├── analytics.html    # 统计分析页面
│   ├── 404.html          # 404错误页面
│   └── 500.html          # 500错误页面
├── routes.py             # 前端路由
└── package.json          # 前端依赖配置
```

## 核心功能

### 1. 响应式布局
- 基于Bootstrap 5的响应式设计
- 支持桌面端和移动端适配
- 侧边栏导航在移动端可折叠

### 2. 前端路由
- 基于Flask路由的页面导航
- 支持面包屑导航
- 404/500错误页面处理

### 3. API客户端
- 统一的API调用封装
- 自动错误处理和重试机制
- 请求/响应拦截器
- 文件上传支持

### 4. 用户界面组件
- Toast消息提示
- 加载状态指示器
- 模态框组件
- 表单验证
- 数据表格
- 图表可视化

### 5. 工具函数库
- 数据验证工具
- 格式化工具
- DOM操作工具
- 本地存储工具
- 时间处理工具
- 表单处理工具

## 页面说明

### 仪表板 (Dashboard)
- 显示系统概览统计
- 收益趋势图表
- 最近交易记录
- 持仓提醒信息

### 交易记录 (Trading Records)
- 交易记录列表展示
- 筛选和搜索功能
- 添加/编辑交易记录
- 分页显示

### 复盘分析 (Review)
- 当前持仓列表
- 持仓策略提醒
- 复盘评分功能

### 股票池 (Stock Pool)
- 待观测池管理
- 待买入池管理
- 股票状态流转

### 板块分析 (Sector Analysis)
- 板块涨幅排名
- 历史表现分析
- TOPK统计

### 案例管理 (Cases)
- 截图案例上传
- 案例分类展示
- 标签搜索功能

### 统计分析 (Analytics)
- 收益统计图表
- 月度分析报告
- 数据导出功能

## 配置说明

### 前端配置 (config.js)
```javascript
const Config = {
    API: {
        BASE_URL: '/api',
        TIMEOUT: 30000
    },
    PAGINATION: {
        DEFAULT_PAGE_SIZE: 20
    },
    CHARTS: {
        DEFAULT_COLORS: ['#007bff', '#28a745', ...]
    }
    // ... 更多配置
};
```

### 样式配置
- CSS变量定义主题色彩
- 响应式断点设置
- 组件样式模块化

## 开发指南

### 本地开发
```bash
# 启动Flask开发服务器
python app.py

# 或使用npm脚本
npm run dev
```

### 代码规范
- 使用ES6+语法
- 遵循Bootstrap设计规范
- 保持代码模块化
- 添加适当的注释

### 错误处理
- API调用自动错误处理
- 用户友好的错误提示
- 全局错误捕获机制

### 性能优化
- 静态资源CDN加载
- 图片懒加载
- API请求缓存
- 代码分割和按需加载

## 扩展说明

### 添加新页面
1. 在`templates/`目录创建HTML模板
2. 在`routes.py`添加路由处理
3. 在`static/js/`创建页面逻辑文件
4. 更新导航菜单

### 添加新组件
1. 在`static/css/components.css`添加样式
2. 在相应的JS文件中添加逻辑
3. 在模板中使用组件

### API集成
1. 在`api.js`中添加API方法
2. 在页面逻辑中调用API
3. 处理响应数据和错误

## 注意事项

1. **安全性**: 所有用户输入都需要验证
2. **兼容性**: 支持现代浏览器（IE11+）
3. **可访问性**: 遵循WCAG 2.1标准
4. **SEO**: 服务端渲染有利于搜索引擎优化
5. **维护性**: 保持代码结构清晰，便于后续维护

## 后续开发

当前实现了前端基础框架，后续任务将逐步完善：
- 交易记录管理界面
- 复盘分析功能
- 股票池管理
- 板块分析可视化
- 案例管理系统
- 统计分析报表

每个功能模块都将基于当前的基础框架进行开发，确保整体架构的一致性和可维护性。