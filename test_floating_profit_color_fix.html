<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ®ç›ˆé¢œè‰²ä¿®å¤æµ‹è¯•</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>æµ®ç›ˆé¢œè‰²ä¿®å¤æµ‹è¯•</h2>
        <p class="text-muted">æµ‹è¯•å¤ç›˜è®°å½•åˆ—è¡¨ä¸­çš„æµ®ç›ˆé¢œè‰²æ˜¾ç¤ºï¼šçº¢è‰²ä»£è¡¨ç›ˆåˆ©ï¼Œç»¿è‰²ä»£è¡¨äºæŸ</p>
        
        <div class="card">
            <div class="card-header">
                <h5>å†å²äº¤æ˜“è®°å½•æµ‹è¯•</h5>
            </div>
            <div class="card-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>è‚¡ç¥¨ä»£ç </th>
                            <th>å®é™…æ”¶ç›Š</th>
                            <th>æ”¶ç›Šç‡</th>
                            <th>çŠ¶æ€</th>
                        </tr>
                    </thead>
                    <tbody id="test-table-body">
                        <!-- æµ‹è¯•æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5>å¤ç›˜ç¼–è¾‘å™¨æµ‹è¯•</h5>
            </div>
            <div class="card-body">
                <div class="row" id="trade-info-test">
                    <!-- äº¤æ˜“ä¿¡æ¯æµ‹è¯•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-header">
                <h5>é¢œè‰²è¯´æ˜</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>æ­£ç¡®çš„é¢œè‰²è§„åˆ™ï¼š</h6>
                        <ul>
                            <li><span class="text-danger fw-bold">çº¢è‰²</span> - è¡¨ç¤ºç›ˆåˆ©ï¼ˆæ­£æ•°ï¼‰</li>
                            <li><span class="text-success fw-bold">ç»¿è‰²</span> - è¡¨ç¤ºäºæŸï¼ˆè´Ÿæ•°ï¼‰</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>ç¤ºä¾‹ï¼š</h6>
                        <p>ç›ˆåˆ© <span class="text-danger fw-bold">+Â¥1,234.56 (+12.34%)</span></p>
                        <p>äºæŸ <span class="text-success fw-bold">-Â¥567.89 (-5.67%)</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // æ¨¡æ‹Ÿæµ‹è¯•æ•°æ®
        const testTrades = [
            { stock_code: '000001', stock_name: 'å¹³å®‰é“¶è¡Œ', total_return: 1234.56, return_rate: 0.1234 },
            { stock_code: '000002', stock_name: 'ä¸‡ç§‘A', total_return: -567.89, return_rate: -0.0567 },
            { stock_code: '000858', stock_name: 'äº”ç²®æ¶²', total_return: 2345.67, return_rate: 0.2345 },
            { stock_code: '002415', stock_name: 'æµ·åº·å¨è§†', total_return: -890.12, return_rate: -0.0890 },
            { stock_code: '600036', stock_name: 'æ‹›å•†é“¶è¡Œ', total_return: 0, return_rate: 0 }
        ];

        // æ ¼å¼åŒ–æ•°å­—
        function formatNumber(num) {
            return new Intl.NumberFormat('zh-CN', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(num);
        }

        // æ¸²æŸ“æµ‹è¯•è¡¨æ ¼
        function renderTestTable() {
            const tbody = document.getElementById('test-table-body');
            
            tbody.innerHTML = testTrades.map(trade => `
                <tr>
                    <td>
                        <strong>${trade.stock_code}</strong><br>
                        <small class="text-muted">${trade.stock_name}</small>
                    </td>
                    <td>
                        <span class="${trade.total_return >= 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}">
                            ${trade.total_return >= 0 ? '+' : ''}Â¥${formatNumber(trade.total_return)}
                        </span>
                    </td>
                    <td>
                        <span class="${trade.return_rate >= 0 ? 'text-danger fw-bold' : 'text-success fw-bold'}">
                            ${trade.return_rate >= 0 ? '+' : ''}${(trade.return_rate * 100).toFixed(2)}%
                        </span>
                    </td>
                    <td>
                        ${trade.total_return > 0 ? 
                            '<span class="badge bg-success">ç›ˆåˆ©</span>' : 
                            trade.total_return < 0 ? 
                                '<span class="badge bg-danger">äºæŸ</span>' : 
                                '<span class="badge bg-secondary">æŒå¹³</span>'
                        }
                    </td>
                </tr>
            `).join('');
        }

        // æ¸²æŸ“äº¤æ˜“ä¿¡æ¯æµ‹è¯•
        function renderTradeInfoTest() {
            const tradeInfo = document.getElementById('trade-info-test');
            const testTrade = testTrades[0]; // ä½¿ç”¨ç¬¬ä¸€ä¸ªç›ˆåˆ©çš„äº¤æ˜“ä½œä¸ºç¤ºä¾‹
            
            tradeInfo.innerHTML = `
                <div class="col-md-3">
                    <strong>è‚¡ç¥¨:</strong> ${testTrade.stock_code} ${testTrade.stock_name}
                </div>
                <div class="col-md-3">
                    <strong>æŒä»“å¤©æ•°:</strong> 15å¤©
                </div>
                <div class="col-md-3">
                    <strong>æŠ•å…¥æœ¬é‡‘:</strong> Â¥${formatNumber(10000)}
                </div>
                <div class="col-md-3">
                    <strong>å®é™…æ”¶ç›Š:</strong> 
                    <span class="${testTrade.total_return >= 0 ? 'text-danger' : 'text-success'}">
                        Â¥${formatNumber(testTrade.total_return)} (${(testTrade.return_rate * 100).toFixed(2)}%)
                    </span>
                </div>
            `;
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            renderTestTable();
            renderTradeInfoTest();
            
            console.log('âœ… æµ®ç›ˆé¢œè‰²ä¿®å¤æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('ğŸ“‹ æµ‹è¯•è¯´æ˜ï¼š');
            console.log('   - çº¢è‰²æ•°å­—è¡¨ç¤ºç›ˆåˆ©ï¼ˆæ­£æ•°ï¼‰');
            console.log('   - ç»¿è‰²æ•°å­—è¡¨ç¤ºäºæŸï¼ˆè´Ÿæ•°ï¼‰');
            console.log('   - è¿™ç¬¦åˆä¸­å›½è‚¡å¸‚çš„é¢œè‰²ä¹ æƒ¯');
        });
    </script>
</body>
</html>